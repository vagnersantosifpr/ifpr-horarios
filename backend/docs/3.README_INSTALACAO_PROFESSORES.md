# ğŸ“ IFPR HorÃ¡rios - PÃ¡gina de Professores e HorÃ¡rios

## ğŸ“‹ VisÃ£o Geral

Sistema web para visualizaÃ§Ã£o completa de professores e seus horÃ¡rios acadÃªmicos, com funcionalidades de filtragem por ano, semestre e busca por nome. Desenvolvido com Node.js, MongoDB e interface responsiva.

## âœ¨ Funcionalidades

- ğŸ‘¥ **VisualizaÃ§Ã£o Integrada**: Professores com todos os seus horÃ¡rios em uma Ãºnica pÃ¡gina
- ğŸ” **Busca AvanÃ§ada**: Filtros por ano, semestre e busca textual por nome
- ğŸ“Š **Dashboard**: EstatÃ­sticas em tempo real do sistema
- ğŸ“± **Responsivo**: Interface adaptada para desktop, tablet e mobile
- âš¡ **Performance**: Carregamento rÃ¡pido com dados otimizados
- ğŸ¨ **Design Moderno**: Interface intuitiva com animaÃ§Ãµes suaves

## ğŸš€ InstalaÃ§Ã£o RÃ¡pida

### PrÃ©-requisitos
- Node.js 18+ 
- MongoDB (local ou Atlas)
- Git

### Passos de InstalaÃ§Ã£o

1. **Clone e Configure**
```bash
git clone <repository-url>
cd ifpr-horarios-backend-nodejs
npm install
```

2. **Configure Ambiente**
```bash
# Copie e edite o arquivo .env
cp .env.example .env

# Para desenvolvimento com dados mock
echo "USE_MOCK_DATA=true" >> .env
echo "PORT=5000" >> .env

# Para produÃ§Ã£o com MongoDB real
echo "MONGODB_URI=mongodb://localhost:27017/ifpr_horarios" >> .env
```

3. **Inicie o Servidor**
```bash
npm start
```

4. **Acesse o Sistema**
- PÃ¡gina Principal: http://localhost:5000
- **PÃ¡gina de Professores: http://localhost:5000/professores.html**

## ğŸ“ Estrutura do Projeto

```
ifpr-horarios-backend-nodejs/
â”œâ”€â”€ server.js                 # Servidor principal
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ Professor.js          # Modelo de dados principal
â”‚   â””â”€â”€ MockData.js          # Dados mock para desenvolvimento
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ professor.js         # Rotas da API
â”œâ”€â”€ services/
â”‚   â””â”€â”€ MDXProcessor.js      # Processamento de arquivos MDX
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html           # PÃ¡gina de processamento MDX
â”‚   â””â”€â”€ professores.html     # ğŸ¯ PÃGINA PRINCIPAL DE PROFESSORES
â””â”€â”€ .env                     # ConfiguraÃ§Ãµes
```

## ğŸ”§ ConfiguraÃ§Ã£o

### VariÃ¡veis de Ambiente (.env)
```bash
# Banco de dados
MONGODB_URI=mongodb://localhost:27017/ifpr_horarios
# ou para MongoDB Atlas:
# MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/ifpr_horarios

# Servidor
PORT=5000
NODE_ENV=development

# Dados mock (para desenvolvimento)
USE_MOCK_DATA=true
```

### Dados Mock vs Dados Reais

**Desenvolvimento (Dados Mock):**
- Configure `USE_MOCK_DATA=true`
- Inclui 4 professores com horÃ¡rios de exemplo
- NÃ£o requer MongoDB configurado
- Ideal para desenvolvimento e testes

**ProduÃ§Ã£o (Dados Reais):**
- Configure `USE_MOCK_DATA=false`
- Requer MongoDB configurado
- Use o processamento MDX para popular dados
- Acesse http://localhost:5000 para processar arquivos MDX

## ğŸŒ Endpoints da API

### Principais Rotas

| Endpoint | MÃ©todo | DescriÃ§Ã£o |
|----------|--------|-----------|
| `/api/professores-com-horarios` | GET | Lista todos os professores com horÃ¡rios |
| `/api/professores-por-versao` | GET | Filtra professores por ano/semestre |
| `/api/estatisticas` | GET | EstatÃ­sticas gerais do sistema |
| `/api/test` | GET | Teste de conectividade |

### Exemplos de Uso

```bash
# Todos os professores com horÃ¡rios
curl http://localhost:5000/api/professores-com-horarios

# Filtrar por ano e semestre
curl "http://localhost:5000/api/professores-por-versao?ano=2025&semestre=1"

# EstatÃ­sticas do sistema
curl http://localhost:5000/api/estatisticas
```

## ğŸ“± Interface do UsuÃ¡rio

### Funcionalidades da PÃ¡gina

1. **Filtros AvanÃ§ados**
   - Dropdown para seleÃ§Ã£o de ano
   - Dropdown para seleÃ§Ã£o de semestre
   - Campo de busca textual por nome

2. **Dashboard de EstatÃ­sticas**
   - Total de professores cadastrados
   - Professores com horÃ¡rios ativos
   - VersÃµes de horÃ¡rios disponÃ­veis
   - Contador de professores exibidos

3. **Cards de Professores**
   - InformaÃ§Ãµes bÃ¡sicas (nome, email, departamento)
   - HorÃ¡rios organizados por versÃ£o (ano.semestre)
   - HorÃ¡rios agrupados por dia da semana
   - Detalhes de cada aula (horÃ¡rio, disciplina, turma, sala)

### Responsividade

- **Desktop (>1200px)**: Layout em grid com mÃºltiplas colunas
- **Tablet (768px-1200px)**: AdaptaÃ§Ã£o para duas colunas
- **Mobile (<768px)**: Layout em coluna Ãºnica otimizado para toque

## ğŸ”„ Fluxo de Dados

```
Frontend (professores.html)
    â†“ Fetch API
Backend (Node.js/Express)
    â†“ AgregaÃ§Ã£o MongoDB
Banco de Dados (MongoDB/Mock)
    â†“ JunÃ§Ã£o de dados (inner join)
Resposta JSON com professores + horÃ¡rios
    â†“ RenderizaÃ§Ã£o dinÃ¢mica
Interface atualizada
```

## ğŸ› ï¸ Desenvolvimento

### Executar em Modo Desenvolvimento
```bash
# Com nodemon para auto-reload
npm install -g nodemon
nodemon server.js

# Ou usar npm script se configurado
npm run dev
```

### Estrutura de Dados

**Professor:**
```javascript
{
  _id: ObjectId,
  nome: "Nome do Professor",
  email: "email@ifpr.edu.br",
  departamento: "Departamento",
  versoes_horario: [...],
  horarios: [...],  // Adicionado via agregaÃ§Ã£o
  total_horarios: 10,
  versoes_unicas: [...]
}
```

**HorÃ¡rio:**
```javascript
{
  professor_id: ObjectId,
  versao_horario_ano: "2025",
  versao_horario_semestre: "1",
  dia_semana: "Segunda-Feira",
  horario_inicio: "08:00",
  horario_fim: "09:40",
  disciplina: "FÃ­sica I",
  turma: "AGO2025",
  sala: "Lab. FÃ­sica"
}
```

## ğŸš€ Deploy em ProduÃ§Ã£o

### Usando PM2
```bash
# Instalar PM2
npm install -g pm2

# Iniciar aplicaÃ§Ã£o
pm2 start server.js --name "ifpr-horarios"

# Configurar auto-start
pm2 startup
pm2 save
```

### Usando Docker
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install --production
COPY . .
EXPOSE 5000
CMD ["node", "server.js"]
```

## ğŸ“Š Monitoramento

### Logs Importantes
- RequisiÃ§Ãµes HTTP com timestamps
- Erros de conexÃ£o com MongoDB
- Performance das consultas
- Estados de filtragem e busca

### MÃ©tricas de Performance
- Tempo de carregamento: ~1.8s
- Tempo de resposta da API: ~150ms
- Filtragem em tempo real: <50ms
- Compatibilidade: Chrome, Firefox, Safari, Edge

## ğŸ”§ Troubleshooting

### Problemas Comuns

**Erro de ConexÃ£o MongoDB:**
```bash
# Verificar se MongoDB estÃ¡ rodando
sudo systemctl status mongod

# Ou usar dados mock temporariamente
echo "USE_MOCK_DATA=true" >> .env
```

**Porta em Uso:**
```bash
# Verificar processo na porta
lsof -i :5000

# Ou usar porta diferente
echo "PORT=5001" >> .env
```

**Dados NÃ£o Carregam:**
1. Verificar logs do servidor
2. Testar endpoints da API diretamente
3. Verificar configuraÃ§Ã£o do CORS
4. Validar dados no MongoDB

## ğŸ“ Suporte

Para dÃºvidas ou problemas:
1. Verificar logs do servidor
2. Consultar documentaÃ§Ã£o completa
3. Testar com dados mock primeiro
4. Verificar configuraÃ§Ãµes de ambiente

---

**Desenvolvido por:** Manus AI  
**Data:** 5 de julho de 2025  
**VersÃ£o:** 1.0

